(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{396:function(t,a,e){"use strict";e.r(a);var s=e(28),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"troubleshooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"dates-localization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dates-localization"}},[t._v("#")]),t._v(" Dates localization")]),t._v(" "),a("p",[t._v("Since Laravel 5.8, this package use "),a("a",{attrs:{href:"https://carbon.nesbot.com/docs/#api-localization",target:"_blank",rel:"noopener noreferrer"}},[t._v("Carbon 2"),a("OutboundLink")],1),t._v(" instead of "),a("a",{attrs:{href:"https://github.com/jenssegers/date",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenssegers/Date"),a("OutboundLink")],1),t._v(" to translate dates.")]),t._v(" "),a("p",[t._v("Date format now use the format of momentjs. To translate your dates, you must now use the Carbon 2 class method "),a("code",[t._v("isoFormat")]),t._v("\ninstead of "),a("code",[t._v("format")])]),t._v(" "),a("p",[t._v("See "),a("a",{attrs:{href:"https://carbon.nesbot.com/docs/#api-localization",target:"_blank",rel:"noopener noreferrer"}},[t._v("Carbon 2 documentation"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"migration-error"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#migration-error"}},[t._v("#")]),t._v(" Migration error")]),t._v(" "),a("p",[t._v("MySQL < v5.7.7 or MariaDB")]),t._v(" "),a("p",[t._v("When you run "),a("code",[t._v("php artisan migrate")]),t._v(" and you hit this error :")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[PDOException]\n  SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was too long; max key length is 767 bytes\n")])])]),a("p",[t._v("This is an error from a change since Laravel 5.4 : "),a("a",{attrs:{href:"https://laravel-news.com/laravel-5-4-key-too-long-error",target:"_blank",rel:"noopener noreferrer"}},[t._v("see here"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("To correct this, two possibilities :")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Define "),a("code",[t._v("utf8")]),t._v(" instead of "),a("code",[t._v("utf8mb4")]),t._v(" as default database charset and "),a("code",[t._v("utf8_unicode_ci")]),t._v(" instead of\n"),a("code",[t._v("utf8mb4_unicode_ci")]),t._v(" as default database collation.")])]),t._v(" "),a("li",[a("p",[t._v("Edit your "),a("code",[t._v("app/Providers/AppServiceProvider.php")]),t._v(" file and define a default string inside the boot method :")])])]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Support"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Facades"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("boot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Schema")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defaultStringLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("191")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);