(()=>{function e(e,t){$.ajax({url:bpRoutes.settings,type:"post",data:{name:e,value:t}})}function t(e,t){if("undefined"==typeof tinymce||0===tinymce.get().length)return!1;var n=[];tinymce.editors.forEach((function(a,o){1===$("#"+a.settings.id).length&&(a.settings.skin=e,a.settings.content_css=t,n.push(a.settings))})),tinymce.remove(),n.forEach((function(e){$("#"+e.id).tinymce(e)}))}window.toastr.options={},window.growl=function(e,t){types=["info","error","warning","success"],void 0!==t&&types.includes(t)||(t="info"),window.toastr[t](e)},window.intervals=[],window.loadedAssets=[],window.registerAsset=function(e,t){loadedAssets.includes(e)||(loadedAssets.push(e),"function"==typeof t&&t())},window.loadScript=function(e,t){if(!loadedAssets.includes(e))if(document.querySelector('script[src="'+e+'"]'))registerAsset(e,t);else if(!loadedAssets.includes(e)){var n=document.createElement("script");n.onload=function(){registerAsset(e,t)},n.src=e,document.body.appendChild(n)}},window.loadStylesheet=function(e,t){if(!loadedAssets.includes(e))if(document.querySelector('link[rel="stylesheet"][href="'+e+'"]'))registerAsset(e,t);else{var n=document.createElement("link");n.onload=function(){registerAsset(e,t)},n.href=e,n.rel="stylesheet",document.querySelector("title").appendChild(n)}},window.whenAssetIsLoaded=function(e,t){var n=getIntervalUid();intervals[n]=setInterval((function(){loadedAssets.includes(e)&&(clearInterval(intervals[n]),t())}))},window.whenIsLoaded=function(e,t){return window.whenAssetIsLoaded(e,t)},window.getIntervalUid=function(){return String.fromCharCode(Math.floor(11*Math.random()))+Math.floor(1e6*Math.random())},$(document).on("focusin",(function(e){$(e.target).closest(".tox-tinymce, .tox-tinymce-aux, .moxman-window, .tam-assetmanager-root").length&&e.stopImmediatePropagation()})),$((function(){$(document).tooltip({container:"body",selector:'[data-toggle="tooltip"]',delay:{show:500,hide:100},html:!0,trigger:"hover"}),"undefined"!=typeof session&&setInterval((function(){var e=Math.round(+new Date/1e3);Math.round(+new Date/1e3)===session.expire-10&&(session.expire=e+session.lifetime,$.ajax({url:session.keepalive,type:"post",data:{id:session.id}}))}),1e3);var n=function(){$('[data-widget="darkmode"]').html('<i class="fas fa-fw fa-sun"></i>'),$("body").addClass("dark-mode"),$("#content-wrapper").addClass("accent-light").removeClass("accent-dark"),$("nav.main-header").addClass("navbar-dark"),e("darkmode",!0),t("boilerplate-dark","boilerplate-dark")};"2"==$("body").data("darkmode")&&window.matchMedia("(prefers-color-scheme: dark)")&&n(),$('[data-widget="darkmode"]').on("click",(function(a){a.preventDefault(),$("body").hasClass("dark-mode")?($(this).html('<i class="far fa-fw fa-moon"></i>'),$("body").removeClass("dark-mode"),$("#content-wrapper").removeClass("accent-light").addClass("accent-dark"),$("nav.main-header").removeClass("navbar-dark").addClass("navbar-"+$("nav.main-header").data("type")),e("darkmode",!1),t("oxide",null)):n()})),$(".sidebar-toggle").on("click",(function(t){t.preventDefault(),e("sidebar-collapsed",!$("body").hasClass("sidebar-collapse"))})),$(".logout").click((function(e){e.preventDefault(),bootbox.confirm($(this).attr("data-question"),(function(e){!1!==e&&$("#logout-form").submit()}))})),$("#impersonate-user").on("select2:select",(function(){$.ajax({url:$(this).data("route"),type:"post",data:{id:$(this).val()},success:function(){window.location.reload()}})})).on("select2:clear",(function(){$.ajax({url:$(this).data("clear"),type:"get",success:function(){window.location.reload()}})})),$("[data-toggle=password]").on("click",(function(e){e.preventDefault(),$(this).children().toggleClass("fa-eye fa-eye-slash");var t=$(this).closest(".input-group").find("input");t.attr("type","text"===t.attr("type")?"password":"text")}))})),$(document).on("keyup",".input-clearable input",(function(){$(this).parent().find(".fa").hide(),""!==$(this).val()&&$(this).parent().find(".fa").show()})),$(document).on("click",".input-clearable .fa",(function(){$(this).parent().find("input").val("").trigger("keyup")}))})();